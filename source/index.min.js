!function e(i,t,r){function o(a,s){if(!t[a]){if(!i[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(n)return n(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var h=t[a]={exports:{}};i[a][0].call(h.exports,function(e){var t=i[a][1][e];return o(t?t:e)},h,h.exports,e,i,t,r)}return t[a].exports}for(var n="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,i){i.exports={height:14,layers:[{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,10,10,10,10,12,10,10,0,0,0,0,0,0,0,0,10,10,20,10,10,10,18,12,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,10,10,10,11,0,0,0,0,0,0,0,0,0,0,0,10,10,10,10,10,10,10,11,0,0,0,0,0,0,0,0,10,12,10,10,10,12,10,10,0,0,0,0,0,0,0,0,17,10,10,10,18,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,10,10,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:14,name:"background",opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{data:[35,35,35,35,35,35,35,35,35,35,35,35,34,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,3,3,2,2,2,3,2,3,35,35,34,35,35,34,35,36,0,0,0,0,0,0,0,0,33,35,35,35,35,35,35,36,0,0,0,0,0,0,0,0,33,35,35,35,35,35,35,36,0,25,27,26,26,27,27,26,35,35,35,35,35,34,35,36,0,0,0,0,0,1,3,2,35,35,35,35,35,35,35,36,0,0,0,0,0,0,0,0,33,35,35,35,35,35,35,36,0,0,0,0,0,0,0,0,33,35,35,34,35,35,35,36,0,0,0,0,0,0,0,0,33,35,34,35,35,35,34,35,27,27,26,27,28,0,0,0,33,35,35,35,35,35,35,35,34,35,35,35,35,27,27,27,35,35,35,35,35,35,35,35,34,35,35,35,35,35,35,34,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35],height:14,name:"collision",opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{draworder:"topdown",height:0,name:"entities",objects:[{gid:44,height:0,id:4,name:"",properties:{},rotation:0,type:"TARGET",visible:!0,width:0,x:193,y:162},{gid:44,height:0,id:5,name:"",properties:{},rotation:0,type:"TARGET",visible:!0,width:0,x:225,y:322},{gid:44,height:0,id:6,name:"",properties:{},rotation:0,type:"TARGET",visible:!0,width:0,x:225,y:290},{gid:44,height:0,id:7,name:"",properties:{},rotation:0,type:"TARGET",visible:!0,width:0,x:225,y:259},{gid:41,height:0,id:8,name:"",properties:{},rotation:0,type:"BLOCK",visible:!0,width:0,x:161.5,y:226.5},{gid:41,height:0,id:9,name:"",properties:{},rotation:0,type:"BLOCK",visible:!0,width:0,x:160,y:291},{gid:41,height:0,id:10,name:"",properties:{},rotation:0,type:"BLOCK",visible:!0,width:0,x:160,y:258.5},{gid:41,height:0,id:11,name:"",properties:{},rotation:0,type:"BLOCK",visible:!0,width:0,x:162,y:324},{gid:41,height:0,id:12,name:"",properties:{},rotation:0,type:"BLOCK",visible:!0,width:0,x:259,y:163},{gid:55,height:0,id:13,name:"",properties:{},rotation:0,type:"START",visible:!0,width:0,x:320,y:161}],opacity:1,type:"objectgroup",visible:!0,width:0,x:0,y:0}],nextobjectid:14,orientation:"orthogonal",properties:{},renderorder:"right-down",tileheight:32,tilesets:[{firstgid:1,image:"tiles.png",imageheight:160,imagewidth:256,margin:0,name:"tiles",properties:{},spacing:0,tileheight:32,tilewidth:32,transparentcolor:"#ffffff"},{firstgid:41,image:"items.png",imageheight:128,imagewidth:128,margin:0,name:"items",properties:{},spacing:0,tileheight:32,tilewidth:32,transparentcolor:"#ffffff"}],tilewidth:32,version:1,width:16}},{}],2:[function(){},{}],3:[function(e){"use strict";var i=this,t=function(e){return"/assets/images/"+e},r=function(e){return"/assets/levels/"+e},o=e("../assets/levels/lvl.json"),n=32,a=32,s=function(e,i,t){var r=[];return t.layers.forEach(function(t){t.name===i&&t.objects.forEach(function(i){i.type===e&&(i.y-=a,r.push(i))})}),r},l=function(e){return Math.floor(e/n)*n},d=function(e){return console.log(e,Math.floor(e/a)*a),Math.floor(e/a)*a},h=function(){var e,h,p,c,y=[],g=[],f=new Phaser.Game(16*n,14*a,Phaser.AUTO,"FIce",{preload:function(){f.load.tilemap("level",r("lvl.json"),null,Phaser.Tilemap.TILED_JSON),f.load.image("tiles",t("tiles.png")),f.load.spritesheet("player",t("player-sheet.png"),32,32),f.load.spritesheet("items",t("items-sheet.png"),32,32)},create:function(){f.stage.backgroundColor="#787878",f.scale.pageAlignHorizontally=!0,f.scale.pageAlignVertically=!0,f.physics.startSystem(Phaser.Physics.ARCADE),e=f.add.tilemap("level"),e.addTilesetImage("tiles","tiles");var i=s("START","entities",o),t=s("BLOCK","entities",o),r=s("TARGET","entities",o);h=e.createLayer("collision"),p=e.createLayer("background"),h.resizeWorld(),p.resizeWorld(),e.setCollisionBetween(1,2e3,!0,"collision"),c=f.add.sprite(l(i[0].x),d(i[0].y),"player"),c.frame=5,f.physics.enable(c,Phaser.Physics.ARCADE),c.body.collideWorldBounds=!0,c.body.setSize(32,32),t.forEach(function(e){var i=f.add.sprite(l(e.x),d(e.y),"items");i.frame=0,f.physics.enable(i,Phaser.Physics.ARCADE),i.body.setSize(32,32),y.push(i)}),r.forEach(function(e){var i=f.add.sprite(l(e.x),d(e.y),"items");f.physics.enable(i,Phaser.Physics.ARCADE),i.body.setSize(32,32),i.frame=3,y.push(i)}),h.debug=!0},update:function(){var e=20.5;c.body.velocity.x=f.input.keyboard.isDown(Phaser.Keyboard.LEFT)?-e:f.input.keyboard.isDown(Phaser.Keyboard.RIGHT)?e:0;var t=function(){f.stage.backgroundColor="#992d2d"};f.physics.arcade.collide(c,h,t,null,i),y.forEach(function(e){f.physics.arcade.collide(c,e,t,null,i)}),g.forEach(function(e){f.physics.arcade.collide(c,e,t,null,i)})},render:function(){f.debug.body(c),y.forEach(function(e){f.debug.body(e)}),g.forEach(function(e){f.debug.body(e)})}})};h()},{"../assets/levels/lvl.json":1}]},{},[2,3]);